# ============================================================================
# KitiumAI Docker Environment Configuration
# Copy this file to .env and update all values for your deployment
# ============================================================================

# ============================================================================
# Environment & Build Configuration
# ============================================================================
NODE_ENV=production
LOG_LEVEL=info
BUILD_TARGET=production

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
POSTGRES_USER=kitium
POSTGRES_PASSWORD=secure_password_change_me
POSTGRES_DB=kitium_dev
POSTGRES_PORT=5432
DATABASE_URL=postgresql://kitium:secure_password_change_me@postgres:5432/kitium_dev

# ============================================================================
# Cache Configuration (Redis)
# ============================================================================
REDIS_PASSWORD=redis_password_change_me
REDIS_PORT=6379
REDIS_URL=redis://:redis_password_change_me@redis:6379/0

# ============================================================================
# API Service Configuration
# ============================================================================
API_PORT=3000
API_REPLICAS=1
CORS_ORIGIN=*
API_VERSION=v1
API_BASE_PATH=/api

# ============================================================================
# Web Service Configuration (Next.js)
# ============================================================================
WEB_PORT=3001
WEB_REPLICAS=1
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3001

# ============================================================================
# Email Service Configuration
# ============================================================================
# SMTP Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=noreply@kitiumai.com

# AWS SES Configuration (optional)
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY_ID=
AWS_SES_SECRET_ACCESS_KEY=

# SendGrid Configuration (optional)
SENDGRID_API_KEY=

# Email Service Settings
EMAIL_QUEUE_ENABLED=true
EMAIL_RETRY_ATTEMPTS=3
EMAIL_RETRY_DELAY_MS=5000

# ============================================================================
# File Service Configuration
# ============================================================================
# AWS S3 Configuration
AWS_S3_BUCKET=kitium-files
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY_ID=
AWS_S3_SECRET_ACCESS_KEY=
AWS_S3_ENDPOINT=

# CloudFront Configuration (optional)
CLOUDFRONT_DISTRIBUTION_ID=
CLOUDFRONT_KEY_PAIR_ID=
CLOUDFRONT_PRIVATE_KEY=

# File Upload Settings
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,docx,xlsx,png,jpg,jpeg,gif,txt
FILE_SCAN_ENABLED=true

# ============================================================================
# Search Service Configuration
# ============================================================================
# Elasticsearch Configuration
ELASTICSEARCH_HOST=elasticsearch:9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=changeme
ELASTICSEARCH_INDEX_PREFIX=kitium

# Search Settings
SEARCH_BATCH_SIZE=100
SEARCH_INDEX_SHARDS=1
SEARCH_INDEX_REPLICAS=0

# ============================================================================
# Analytics Service Configuration
# ============================================================================
ANALYTICS_ENABLED=true
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_FLUSH_INTERVAL_MS=30000

# Optional: Send analytics to external service
ANALYTICS_EXPORT_URL=

# ============================================================================
# Billing Service Configuration
# ============================================================================
BILLING_CURRENCY=USD
BILLING_TAX_ENABLED=true

# Stripe Configuration (optional)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Invoice Settings
INVOICE_NUMBER_PREFIX=INV
INVOICE_DUE_DAYS=30

# ============================================================================
# Monitoring & Logging Configuration
# ============================================================================
LOG_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3

# Application Performance Monitoring
APM_ENABLED=false
APM_SERVICE_NAME=kitium-ai
APM_SERVER_URL=

# Error Tracking (Sentry, etc.)
ERROR_TRACKING_ENABLED=false
ERROR_TRACKING_DSN=

# ============================================================================
# Security Configuration
# ============================================================================
JWT_SECRET=your_jwt_secret_change_me_min_32_chars
SESSION_SECRET=your_session_secret_change_me_min_32_chars
ENCRYPTION_KEY=your_encryption_key_change_me_min_32_chars

# CORS Settings
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# Backup & Maintenance Configuration
# ============================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_CRON_SCHEDULE=0 2 * * *

# Database Maintenance
DB_VACUUM_ENABLED=true
DB_VACUUM_CRON_SCHEDULE=0 3 * * 0

# ============================================================================
# Notification Configuration
# ============================================================================
NOTIFICATIONS_ENABLED=true
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
WEBHOOK_SECRET=

# ============================================================================
# Feature Flags
# ============================================================================
FEATURE_EMAIL_SERVICE=true
FEATURE_FILE_SERVICE=true
FEATURE_SEARCH_SERVICE=true
FEATURE_ANALYTICS_SERVICE=true
FEATURE_BILLING_SERVICE=true

# ============================================================================
# Development Configuration (use only in development)
# ============================================================================
# Debug logging
DEBUG=kitium:*

# Mock external services
MOCK_EMAIL_SERVICE=false
MOCK_FILE_SERVICE=false
MOCK_PAYMENT_SERVICE=false

# Seed database on startup
SEED_DATABASE=false

# ============================================================================
# Documentation Configuration
# ============================================================================
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs
